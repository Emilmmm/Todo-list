(()=>{"use strict";const t=document.querySelector(".search"),e=document.querySelector("profile-droplist"),a=document.querySelector(".menu__body"),s={tasks:document.getElementById("tasks"),addTaskTitle:document.getElementById("task-name"),addTaskDesc:document.getElementById("task-desc"),addTaskDate:document.querySelector(".task-add-btn-date input"),addTaskProject:document.querySelector(".task-add-btn-priority input"),addTaskPriority:document.querySelector(".task-add-btn-priority input"),addTaskAdd:document.getElementById("task-add-btn")};localStorage.getItem("tasks")||localStorage.setItem("tasks","[]");let l=JSON.parse(localStorage.getItem("tasks"));document.addEventListener("click",(o=>{const n=o.target;if(n.closest(".header")?(n.closest(".search")&&t.classList.add("active"),n.closest("profile-droplist button")&&e.classList.toggle("active"),n.closest(".icon-menu")&&a.classList.toggle("hidden")):e.classList.contains("active")&&e.classList.remove("active"),(!n.closest(".search")&&t.classList.contains("active")||n.closest(".search__close-btn"))&&(t.classList.remove("active"),t.querySelector("input").value=""),n.closest(".task-add")&&(n.closest(".task-add__btn")&&(document.querySelector(".task-add").classList.add("active"),s.addTaskTitle.focus()),n.classList.contains("task-add__btn-add")&&""!==s.addTaskTitle.value&&function(t){function e(t){const e=t.closest(".select"),a=e.querySelector(".select__btn"),s=e.querySelector("ul"),l=e.querySelector("input");a.querySelector("span").innerHTML="".concat(t.innerHTML),l.value=t.dataset.value,s.classList.remove("active"),s.querySelector(".selected").classList.remove("selected"),t.classList.add("selected")}l.push(t),localStorage.setItem("tasks",JSON.stringify(l)),c(t),s.addTaskTitle.value="",s.addTaskDesc.value="",s.addTaskAdd.classList.remove("active"),e(i),e(d)}({id:Date.now(),title:"".concat(s.addTaskTitle.value),desc:"".concat(s.addTaskDesc.value),date:"17 Jun",project:document.querySelector(".task-add__bottom-select .select__btn span").innerHTML,priority:Number(s.addTaskPriority.value)}),n.classList.contains("task-add__btn-cancel")&&(document.querySelector(".task-add").classList.remove("active"),s.addTaskTitle.value="",s.addTaskDesc.value="")),n.closest(".task__checkbox")){const t=n.closest(".task"),e=Number(t.dataset.id),a=l.findIndex((t=>t.id===e));t.remove(),l.splice(a,1),localStorage.setItem("tasks",JSON.stringify(l))}})),document.addEventListener("keyup",(t=>{""!==s.addTaskTitle.value?s.addTaskAdd.classList.add("active"):s.addTaskAdd.classList.remove("active")}));const o=s.tasks.querySelectorAll("[data-priority]");function c(t){let e=t.priority;o[--e].insertAdjacentHTML("beforeend",'<li id="task" data-id="'.concat(t.id,'" class="task"><button type="button" class="task__checkbox"><span></span><svg width="24" height="24"><path fill="currentColor" d="M11.23 13.7l-2.15-2a.55.55 0 0 0-.74-.01l.03-.03a.46.46 0 0 0 0 .68L11.24 15l5.4-5.01a.45.45 0 0 0 0-.68l.02.03a.55.55 0 0 0-.73 0l-4.7 4.35z"></path></svg></button><div class="task__body"><div class="task__top"><div class="task__title">').concat(t.title,'</div><small class="task__description">').concat(t.desc,'</small></div><div class="task__info last-right"><button class="task__date" type="button"><svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg" class="calendar_icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 1h-7A1.5 1.5 0 001 2.5v7A1.5 1.5 0 002.5 11h7A1.5 1.5 0 0011 9.5v-7A1.5 1.5 0 009.5 1zM2 2.5a.5.5 0 01.5-.5h7a.5.5 0 01.5.5v7a.5.5 0 01-.5.5h-7a.5.5 0 01-.5-.5v-7zM8.75 8a.75.75 0 11-1.5 0 .75.75 0 011.5 0zM3.5 4a.5.5 0 000 1h5a.5.5 0 000-1h-5z" fill="currentColor"></path></svg><small>').concat(t.date,'</small><svg width="12" height="12" viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg" class="recurring_icon"><path fill="currentColor" d="M2.784 4.589l.07.057 1.5 1.5a.5.5 0 01-.638.765l-.07-.057L3 6.207V7a2 2 0 001.85 1.995L5 9h2.5a.5.5 0 01.09.992L7.5 10H5a3 3 0 01-2.995-2.824L2 7v-.793l-.646.647a.5.5 0 01-.638.057l-.07-.057a.5.5 0 01-.057-.638l.057-.07 1.5-1.5a.5.5 0 01.638-.057zM7 2a3 3 0 013 3v.792l.646-.646a.5.5 0 01.765.638l-.057.07-1.5 1.5a.5.5 0 01-.638.057l-.07-.057-1.5-1.5a.5.5 0 01.638-.765l.07.057.646.646V5a2 2 0 00-1.85-1.995L7 3H4.5a.5.5 0 010-1z"></path></svg></button><a href="#" class="task__project"><small>').concat(t.project,'</small></a></div><div class="task__actions"><button class="btn" type="button"><svg width="24" height="24"><g fill="none" fill-rule="evenodd"><path fill="currentColor" d="M9.5 19h10a.5.5 0 110 1h-10a.5.5 0 110-1z"></path><path stroke="currentColor" d="M4.42 16.03a1.5 1.5 0 00-.43.9l-.22 2.02a.5.5 0 00.55.55l2.02-.21a1.5 1.5 0 00.9-.44L18.7 7.4a1.5 1.5 0 000-2.12l-.7-.7a1.5 1.5 0 00-2.13 0L4.42 16.02z"></path></g></svg><tool-tip inert role="tooltip" tip-position="top">Edit task</tool-tip></button><button class="btn" type="button"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M18 4H6a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2zM5 6a1 1 0 011-1h12a1 1 0 011 1v12a1 1 0 01-1 1H6a1 1 0 01-1-1V6zm12 10a1 1 0 11-2 0 1 1 0 012 0zM7 8a.5.5 0 000 1h10a.5.5 0 000-1H7z" fill="currentColor"></path></svg><tool-tip inert role="tooltip" tip-position="top">Set due date ...</tool-tip></button><a class="btn" href=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" data-svgs-path="sm1/comments.svg"><path fill="currentColor" fill-rule="nonzero" d="M11.707 20.793A1 1 0 0 1 10 20.086V18H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.5l-2.793 2.793zM11 20.086L14.086 17H19a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h6v3.086z"></path></svg><tool-tip inert role="tooltip" tip-position="top">Comment on task</tool-tip></a><button class="btn" type="button"><svg width="15" height="3"><path d="M1.5 3a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm6 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm6 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="currentColor" fill-rule="evenodd"></path></svg><tool-tip inert role="tooltip" tip-position="top">More task actions</tool-tip></button></div></div></li>'))}const i=document.querySelector(".task-add-btn-priority .selected"),d=document.querySelector(".task-add__bottom-select .selected");var n;document.addEventListener("click",(t=>{const e=t.target,a=e.closest(".select"),s=document.querySelector(".select__btn.active");if(a){const l=a.querySelector(".select__btn"),o=a.querySelector("ul"),c=a.querySelector("input"),i=e.closest("li");e.closest(".select__btn")&&(s&&(s.parentElement.querySelector("ul").classList.remove("active"),s.classList.remove("active")),o.classList.toggle("active"),l.classList.add("active")),i&&(t.stopPropagation(),l.querySelector("span").innerHTML="".concat(i.innerHTML),l.focus(),c.value=i.dataset.value,o.classList.remove("active"),o.querySelector(".selected").classList.remove("selected"),i.classList.add("selected"))}else s&&(s.parentElement.querySelector("ul").classList.remove("active"),s.classList.remove("active"))})),document.addEventListener("keydown",(t=>{const e=t.key;if("Tab"===e||"Escape"===e){const t=document.querySelector(".select__btn.active");t&&(t.parentElement.querySelector("ul").classList.remove("active"),t.classList.remove("active"))}})),(n=l).length&&n.forEach((t=>c(t)))})();